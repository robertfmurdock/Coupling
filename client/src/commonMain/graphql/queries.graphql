fragment PartyPlayerDetails on Player {
    ...PlayerDetails
    partyId
    modifyingUserEmail
    timestamp
    isDeleted
}

query partyListQuery {
    partyList { ...PartyDetails }
}

query slackConnectPageQuery {
    partyList { ...PartyDetails }
}

query partyQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) { ...PartyDetails }
}

query playerPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        playerList { ...PlayerDetails }
        retiredPlayers { ...PlayerDetails }
    }
}

query retiredPlayersPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        retiredPlayers { ...PlayerDetails }
    }
}

query pinPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        pinList { ...PinDetails }
    }
}

query pinListPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        pinList { ...PinDetails }
    }
}

query prepareSpinPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        playerList { ...PlayerDetails }
        pinList { ...PinDetails }
        currentPairingSet { ...PairingSetDetails }
    }
}

query currentPairsPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        playerList { ...PlayerDetails }
        currentPairingSet { ...PairingSetDetails }
        boost { ...BoostDetails }
    }
}

query newPairsPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        playerList { ...PlayerDetails }
        currentPairingSet { ...PairingSetDetails }
    }
}

query StatisticsPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        playerList { ...PlayerDetails }
        pairList(input: {includeRetired: false}) {
            players { ...PartyPlayerDetails }
            spinsSinceLastPaired
            recentTimesPaired
            pairingSetList {
                id
                date
                recentTimesPaired
            }
        }
        medianSpinDuration
        spinsUntilFullRotation

    }
}

query partySecretsPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        secretList { ...PartySecret }
        boost { ...BoostDetails }
    }
}

query userQuery {
    user { ...UserDetails }
}

query userPageQuery {
    user { ...UserDetails }
    partyList { ...PartyDetails }
}

query prereleaseUserPageQuery {
    user {
        ...UserDetails
        subscription {
            stripeCustomerId
            stripeSubscriptionId
            isActive
            currentPeriodEnd
        }
        boost {
            userId
            partyIds
            expirationDate
        }
    }
    config {
        stripeAdminCode
        stripePurchaseCode
    }
    partyList {
        ...PartyDetails
    }
}

query contributionVisualizationPageQuery($partyId: PartyId!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        spinsUntilFullRotation
    }
}

query contributionVisualizationDataQuery($partyId: PartyId!, $window: ContributionWindow!, $pairsInput: PairListInput!) {
    party(input: {partyId: $partyId}) {
        pairList(input: $pairsInput) {
            players {
                ...PlayerDetails
            }
            contributionReport(input: {window: $window}) {
                contributions {
                    ...PartyContributionFragment
                }
                partyId
                count
                medianCycleTime
                withCycleTimeCount
            }
        }
    }
}

query contributionListPageQuery($partyId: PartyId!, $window: ContributionWindow!) {
    party(input: {partyId: $partyId}) {
        ...PartyDetails
        playerList { ...PlayerDetails }
        retiredPlayers { ...PlayerDetails }
        contributionReport(input: {window: $window}) {
            contributions { ...ContributionDetails }
        }
    }
}

fragment PartyContributionFragment on Contribution {
    commitCount
    createdAt
    cycleTime
    dateTime
    ease
    firstCommit
    firstCommitDateTime
    hash
    id
    integrationDateTime
    label
    link
    name
    participantEmails
    semver
    story
    partyId
    modifyingUserEmail
    timestamp
    isDeleted
}

query contributionOverviewPageQuery($partyInput: PartyInput!, $contributionReportInput: ContributionsInput!) {
    party(input: $partyInput) {
        ...PartyDetails
        playerList { ...PlayerDetails }
        retiredPlayers { ...PlayerDetails }
        contributionReport(input: $contributionReportInput) {
            contributions { ...ContributionDetails }
        }
    }
}

query incubatingQuery {
    partyList { ...PartyDetails }
    config { addToSlackUrl, discordClientId }
}

query integrationPageQuery($partyInput: PartyInput!) {
    party(input: $partyInput) {
        ...PartyDetails
        integration {
            slackChannel
            slackTeam
        }
    }
    config { addToSlackUrl }
}

query historyPageQuery($partyInput: PartyInput!) {
    party(input: $partyInput) {
        ...PartyDetails
        pairingSetList { ...PairingSetDetails }
    }
    config { addToSlackUrl }
}
